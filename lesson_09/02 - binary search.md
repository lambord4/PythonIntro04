# Двоичный поиск элемента

**Двоичный, или бинарный, поиск значения** в списке или массиве используется только для упорядоченных 
последовательностей, то есть отсортированных по возрастанию или убыванию. Заключается в определении, содержит ли массив
искомое значение, а также в определение места его нахождения.

Описание алгоритма
1. Находится средний элемент последовательности. Для этого первый и последний индексы связываются с переменными, а 
индекс среднего элемента вычисляется.
2. Значение среднего элемента сравнивается с искомым значение. В зависимости от того, больше оно или меньше значения 
среднего элемента, дальнейший поиск будет происходить только в левой или только в правой половинах массива. Если 
значение среднего элемента оказывается равным искомому, поиск завершается.
3. Иначе одна из границ исследуемой последовательности сдвигается. Если искомое значение больше значения среднего 
элемента, то нижняя граница сдвигается за средний элемент на один элемент справа. Если искомое значение меньше значения 
среднего элемента, то верхняя граница сдвигается на элемент перед средним.
4. Снова находится средний элемент теперь уже в выбранной половине. Описанный выше алгоритм повторяется для данного 
среза.

```python
from random import randint

def binary_search(array, key_value, left=0, right=None):
    if left < 0:
        raise ValueError('Must be positive value!')
    if right is None:
        right = len(array)

    middle = (left + right) // 2
    while array[middle] != key_value and left <= right:
        if array[middle] < key_value:
            left = middle + 1
        else:
            right = middle - 1

        middle = (left + right) // 2

    return (True, middle) if not (left > right) else (False, middle+1)

# Creating a sorted list of random values
lst = []
for i in range(15):
    lst.append(randint(1, 50))
lst.sort()
print(lst)

key = 23
flag, idx = binary_search(lst, key)

print('Flag =', flag)
print('Index =', idx)

# if key value not found, we can insert this value by index
if not flag:
    lst.insert(idx, key)

print(lst)
```

`array` - список в котором выполняется поиск;  
`key` - ключ поиска  
`left` - левая граница диапазона списка в котором выполняется поис. По умолчанию - 0 (ноль, начало списка)  
`right` - правая граница диапазона списка в котором выполняется поис. По умолчанию - `None` (но в функции, если не 
задан этот параметр, то будет присвоино значение равное длине списка)  

Метод возвращает кортеж, `flag` (первое значение) и `index` (второе значение). Если `flag is True` то ключ был найден в
списке и `index` хранит индекс найденого элемента, иначе `index` храние позицию, возможной, вставки ключа в список, без
нарушения упорядочености списка. 
